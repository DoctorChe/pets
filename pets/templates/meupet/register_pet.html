{% extends '_layouts/base.html' %}

{% block content %}
  <div class="row">
    <form class="form-horizontal col-md-6" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group">
        <label for="name" class="col-sm-2 control-label">Nome</label>
        <div class="col-sm-10">
          {{ form.name }}
          {{ form.errors.name }}
        </div>
      </div>

      <div class="form-group">
        <label for="description" class="col-sm-2 control-label">Descrição</label>
        <div class="col-sm-10">
          {{ form.description }}
          {{ form.errors.description }}
        </div>
      </div>

      <div class="form-group">
        <label for="kind" class="col-sm-2 control-label">Espécie</label>
        <div class="col-sm-10">
          {{ form.kind }}
          {{ form.errors.kind }}
        </div>
      </div>

      <div class="form-group">
        <label for="profile_picture" class="col-sm-2 control-label">Foto</label>
        <div class="col-sm-10">
          <input type="file" id="profile_picture" name="profile_picture">
          {{ form.errors.profile_picture }}
        </div>
      </div>

      <div class="form-group">
        <input type="submit" name="submit" class="btn btn-primary pull-right" value="Cadastrar Pet">
      </div>
    </form>

    <div class="col-md-6">
      <img src="" class="img-thumbnail" alt="Preview Foto" id="picture" name="imagem"/>
    </div>
  </div>
{% endblock %}

{% block morescripts %}
  <script>
    $(document).ready(function () {
      $('#profile_picture').on('change', function () {
        var reader = new FileReader();
        reader.onload = function (e) {
          $('#picture').attr('src', e.target.result);
        };
        reader.readAsDataURL(this.files[0]);
      });
    });
  </script>
{% endblock %}